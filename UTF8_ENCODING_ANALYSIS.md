# ุชุญูู ุชุฃุซุฑ UTF-8 Encoding ุจุฑ ุณุฑุนุช Training

## ุณูุงู: ุขุง ุฐุฎุฑู JSON ูุง ุจุง UTF-8 ุจู ุฌุง Unicode Escape ุณุฑุนุช ุฑุง ุจูุจูุฏ ูโุฏูุฏุ

## ๐งช ุชุณุช ุนูู

### ูุชุงุฌ Benchmark:
```
ุฎูุงูุฏู 1000 ุฎุท ุงุฒ e1rel_to_e2_ranking_test.json:
  FB15k-237 (English):            0.009 ุซุงูู
  FarsPredict (Unicode escaped):  0.759 ุซุงูู  (80x ฺฉูุฏุชุฑ!)
  FarsPredict ุจุง UTF-8 (ุชุฎูู):  0.304 ุซุงูู  (34x ฺฉูุฏุชุฑ)
```

### ูุญุงุณุจู ุจุฑุง ฺฉู Preprocessing:
- **ฺฉู ุฎุทูุท ุจุฑุง parse**: 622,287 ุฎุท
- **ุฒูุงู ูุนู (Unicode escaped)**: 7.9 ุฏููู
- **ุฒูุงู ุจุง UTF-8**: 3.1 ุฏููู
- **ุตุฑููโุฌู**: **4.7 ุฏููู**

## ๐ ุชุฃุซุฑ ุจุฑ ฺฉู ูพุฑูฺู

### ฺฉุฌุง ูุงูโูุง JSON ุงุณุชูุงุฏู ูโุดููุฏุ

```
1. Preprocessing (ฺฉุจุงุฑ ุฏุฑ ุงุจุชุฏุง):
   โ ุฎูุงูุฏู e1rel_to_e2_train.json
   โ ุฎูุงูุฏู e1rel_to_e2_ranking_dev.json
   โ ุฎูุงูุฏู e1rel_to_e2_ranking_test.json
   โ ุฎูุงูุฏู e1rel_to_e2_full.json
   โ ุชุจุฏู ุจู HDF5 ู ุฐุฎุฑู
   โ ุตุฑููโุฌู: 4.7 ุฏููู

2. Training Loop (ูุฑ epoch):
   โ JSON ุงุณุชูุงุฏู ููโุดูุฏ
   โ ุงุฒ HDF5 preprocessed ูโุฎูุงูุฏ
   โ ููุท ุจุง Tensor/Embedding ฺฉุงุฑ ูโฺฉูุฏ
   โ ุชุฃุซุฑ: 0%

3. Evaluation (ูุฑ 5 epoch):
   โ JSON ุงุณุชูุงุฏู ููโุดูุฏ
   โ ุงุฒ HDF5 preprocessed ูโุฎูุงูุฏ
   โ ุชุฃุซุฑ: 0%
```

### ูุญุงุณุจู ูุณุจุช:
```
Preprocessing:          ~8 ุฏููู (ฺฉุจุงุฑ)
  โ ุจุง UTF-8:           ~3 ุฏููู (ฺฉุจุงุฑ)
  โ ุตุฑููโุฌู:          ~5 ุฏููู

Training 200 epochs:    ~4,080 ุฏููู (68 ุณุงุนุช)

ฺฉู ูพุฑูฺู:              ~4,088 ุฏููู
ุตุฑููโุฌู:              ~5 ุฏููู
ูุณุจุช:                   0.12% ุงุฒ ฺฉู ุฒูุงู
```

## ๐ฏ ูุชุฌูโฺฏุฑ ููุง

### โ ุชุบุฑ encoding ุงุฑุฒุด ูุฏุงุฑุฏ ฺูู:

1. **ุชุฃุซุฑ ูุงฺุฒ**: ููุท 0.12% ุงุฒ ฺฉู ุฒูุงู
2. **ฺฉุจุงุฑ ุงุณุชูุงุฏู**: preprocessing ููุท ฺฉุจุงุฑ ุงูุฌุงู ูโุดูุฏ
3. **ูุฒูู ุชุบุฑ**: 30-60 ุฏููู ุจุฑุง ุชุบุฑ ฺฉุฏ ู ุชุณุช
4. **ุตุฑููโุฌู**: ููุท 5 ุฏููู (ฺฉูุชุฑ ุงุฒ ูุฒูู ุชุบุฑ!)

### โ ุฏูุงู ุงุตู ฺฉูุฏ:

1. **ุชุนุฏุงุฏ ุฒุงุฏ Entities (7.4x)**
   - 107,827 vs 14,544 entities
   - Embedding matrix ุจุฒุฑฺฏุชุฑ
   - ูุญุงุณุจุงุช GPU ุณูฺฏูโุชุฑ

2. **Test Set ุจุฒุฑฺฏุชุฑ (6.1x)**
   - 124,459 vs 20,466 triples
   - Evaluation ุทููุงูโุชุฑ

3. **Training Data ุจุดุชุฑ (1.6x)**
   - 435,600 vs 272,115 triples
   - ูุฑ epoch ุฒูุงู ุจุดุชุฑ ูโุจุฑุฏ

### ๐ก ุฑุงูโูุง ูุงูุน ุชุณุฑุน:

| ุฑูุด | ุชุฃุซุฑ | ูพุดููุงุฏ |
|-----|-------|---------|
| ฺฉุงูุด epochs (1000โ200) | 80% ฺฉุงูุด ุฒูุงู | โญโญโญโญโญ |
| ุงูุฒุงุด batch size | 20-30% ฺฉุงูุด ุฒูุงู | โญโญโญโญ |
| ฺฉุงูุด evaluation (5โ10 epochs) | 3-5% ฺฉุงูุด ุฒูุงู | โญโญโญ |
| Early stopping | 30-50% ฺฉุงูุด ุฒูุงู | โญโญโญโญ |
| GPU ููโุชุฑ | 50-100% ฺฉุงูุด ุฒูุงู | โญโญโญโญโญ |
| UTF-8 encoding | 0.12% ฺฉุงูุด ุฒูุงู | โญ |

## ๐ ุชูุถุญ ุชฺฉูฺฉุงู

### ฺุฑุง Unicode Escape ฺฉูุฏ ุงุณุชุ

```python
# ฺฉุงุฑุงฺฉุชุฑ ูุงุฑุณ "ู"
UTF-8:           ูู โ 2 bytes (0xD986)
Unicode Escape:  "\u0646" โ 6 bytes ASCII

# ุฏุฑ JSON:
Normal UTF-8:    {"name": "ููุฑุซ"}       โ 15 bytes
Unicode Escaped: {"name": "\u0646..."}  โ 50+ bytes

# Python json.loads():
UTF-8:           ูุณุชูู decode ูโุดูุฏ
Escaped:         ุจุงุฏ ูุฑ \uXXXX ุฑุง parse ู convert ฺฉูุฏ (80x ฺฉูุฏุชุฑ!)
```

### ฺุฑุง ุชุฃุซุฑ ุจุฑ Training ูุฏุงุฑุฏุ

```
ูุฑุขูุฏ ฺฉุงูู:
1. JSON files (UTF-8 or Escaped)
   โ [ููุท ฺฉุจุงุฑ - preprocessing]
2. Parse & Convert to tokens/indices
   โ
3. Save to HDF5 (binary format)
   โ [ุจุงุฑูุง - training]
4. Load from HDF5 โ Tensors โ GPU
   โ
5. Training/Evaluation
```

ูุงูโูุง JSON ููุท ุฏุฑ ูุฑุญูู 1-2 ุงุณุชูุงุฏู ูโุดููุฏ ฺฉู ฺฉุจุงุฑ ุงูุฌุงู ูโุดูุฏ.
ูุฑุงุญู 3-5 ฺฉู 99.9% ุฒูุงู ุฑุง ูโฺฏุฑูุฏุ ุงุตูุงู JSON ููโุฎูุงููุฏ!

## ๐ ุชูุตู ููุง

**ุจฺฏุฐุงุฑุฏ Training ุงุฏุงูู ูพุฏุง ฺฉูุฏ ุจุง ููู encoding ูุนู.**

ุฏูู:
- ุชุบุฑ encoding: 30-60 ุฏููู ฺฉุงุฑ
- ุตุฑููโุฌู: 5 ุฏููู
- ุฏุฑ ุญุงู ุญุงุถุฑ: 15+ ุณุงุนุช training ุงูุฌุงู ุดุฏู
- Preprocessing ูุจูุงู ุงูุฌุงู ุดุฏู ุงุณุช!

ุงฺฏุฑ ูโุฎูุงูุฏ ุจุฑุง ูพุฑูฺูโูุง ุจุนุฏ ุจูููโุณุงุฒ ฺฉูุฏ:
- `wrangle_KG.py` ุฑุง ุชุบุฑ ุฏูุฏ ุชุง UTF-8 ุจููุณุฏ
- ูู ุจุฑุง ุงู training ูุนู ุงุฑุฒุด ูุฏุงุฑุฏ
